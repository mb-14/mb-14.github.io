<!DOCTYPE html>
<html lang="{{ page.lang | default: "en" }}" class="html" data-theme="{{ site.theme_config.appearance | default: "auto" }}">
        {%- include head.html -%}
  <body>
    <main class="page-content" aria-label="Content">
      <div class="w">
        {% if site.theme_config.show_navbar == true %}
        {% include horizontal_list.html collection=site.data.home.navbar_entries %}
        <div class="dashed"></div>
        {% endif %}

        {{ content }}
        {% if site.theme_config.appearance_toggle %}
          {% include toggle_theme_button.html %}
        {% endif %}
        <div class="credits">
          {%- if site.theme_config.show_copyright == true -%}
          &copy;&nbsp;{{ "now" | date: "%Y" }}&nbsp;{{site.author}}
          &nbsp;
          â€¢
          &nbsp;
          {%- endif -%}
          Theme&nbsp; <a href="https://github.com/abhinavs/moonwalk" target="_blank" rel="noreferrer">Moonwalk</a>
        </div>
      </div>
    </main>

    {%- if site.soopr -%}
      {%- if site.soopr.publish_token and jekyll.environment == "production" -%}
        <script async defer data-soopr-token="{{site.soopr.publish_token}}" src="https://sdk.soopr.co/soopr.js"></script>
      {%- else -%}
        <script async defer src="https://sdk.soopr.co/soopr.js"></script>
      {%- endif -%}
    {%- endif -%}

    <script>
      let links = document.querySelectorAll('a.footnote-link');
      let footnotes = document.querySelectorAll('.footnotes div');
      let overlay = document.getElementsByClassName("footnotes")[0];
      links.forEach(element => {
          element.addEventListener('click', function(event) {
              event.preventDefault();
              event.stopPropagation();
              let id = element.getAttribute('href').substring(1);
              overlay.style.display = 'flex';
              let footnote = document.getElementById(id);
              footnote.style.display = 'block';
          });
      });
      footnotes.forEach(el => {
        el.addEventListener('click', function(event) {
          event.stopPropagation();
        })
      });
      overlay.addEventListener('click', function(event) {
          overlay.style.display = 'none';
          footnotes.forEach(el => {
            el.style.display = 'none';
          });
      });
  </script>
  </body>
</html>
